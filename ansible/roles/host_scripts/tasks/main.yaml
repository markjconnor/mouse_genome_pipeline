- name: Enable CRB repository
  ansible.builtin.command:
    cmd: dnf config-manager --set-enabled crb
  become: true
  changed_when: false

- name: Install ansible
  ansible.builtin.dnf:
    name:
      - ansible
    state: latest
  become: true
  become_user: root

- name: Run script to create fasta file
  ansible.builtin.command:
    cmd: python3 /home/almalinux/subset_fasta.py /home/almalinux/experiment_ids.txt
  args:
    creates: /home/almalinux/ds4eng-cw/coursework/experiment_sequences.fasta

